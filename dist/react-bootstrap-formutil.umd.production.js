(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("react-formutil"),require("react"),require("react-bootstrap")):typeof define==="function"&&define.amd?define(["exports","react-formutil","react","react-bootstrap"],t):(e=typeof globalThis!=="undefined"?globalThis:e||self,t(e.ReactBootstrapFormutil={},e.ReactFormutil,e.React,e.ReactBootstrap))})(this,(function(e,t,r,n){"use strict";function o(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var a=o(r);function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function u(e,t){return t={exports:{}},e(t,t.exports),t.exports}var s=u((function(e){function t(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var l=i(s);var c=u((function(e){function t(r){"@babel/helpers - typeof";return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports["default"]=e.exports,t(r)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(c);var f=c;var p=u((function(e){var t=f["default"];function r(e,r){if(t(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,r||"default");if(t(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(p);var d=p;var v=u((function(e){var t=f["default"];function r(e){var r=d(e,"string");return t(r)==="symbol"?r:String(r)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var y=i(v);var m=u((function(e){function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var h=i(m);var b=u((function(e){function t(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(b);var x=b;var g=u((function(e){function t(e,t){if(e==null)return{};var r=x(e,t);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var _=i(g);var O=u((function(e){function t(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var P=i(O);var E=u((function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function r(e,r,n){if(r)t(e.prototype,r);if(n)t(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var j=i(E);var w=u((function(e){function t(r,n){e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t},e.exports.__esModule=true,e.exports["default"]=e.exports;return t(r,n)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(w);var k=w;var $=u((function(e){function t(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)k(e,t)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var C=i($);var S=u((function(e){function t(r){e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=true,e.exports["default"]=e.exports;return t(r)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(S);var F=u((function(e){function t(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(F);var M=u((function(e){function t(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(M);var V=M;var T=u((function(e){var t=f["default"];function r(e,r){if(r&&(t(r)==="object"||typeof r==="function")){return r}else if(r!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return V(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(T);var R=S;var B=F;var A=T;var G=u((function(e){function t(e){var t=B();return function r(){var n=R(e),o;if(t){var a=R(this).constructor;o=Reflect.construct(n,arguments,a)}else{o=n.apply(this,arguments)}return A(this,o)}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var I=i(G);var N=60103,z=60106,D=60107,L=60108,Y=60114,U=60109,q=60110,H=60112,W=60113,J=60120,K=60115,Q=60116,X=60121,Z=60122,ee=60117,te=60129,re=60131;if("function"===typeof Symbol&&Symbol.for){var ne=Symbol.for;N=ne("react.element");z=ne("react.portal");D=ne("react.fragment");L=ne("react.strict_mode");Y=ne("react.profiler");U=ne("react.provider");q=ne("react.context");H=ne("react.forward_ref");W=ne("react.suspense");J=ne("react.suspense_list");K=ne("react.memo");Q=ne("react.lazy");X=ne("react.block");Z=ne("react.server.block");ee=ne("react.fundamental");te=ne("react.debug_trace_mode");re=ne("react.legacy_hidden")}function oe(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case N:switch(e=e.type,e){case D:case Y:case L:case W:case J:return e;default:switch(e=e&&e.$$typeof,e){case q:case H:case Q:case K:case U:return e;default:return t}}case z:return t}}}var ae=U,ie=N,ue=H,se=D,le=Q,ce=K,fe=z,pe=Y,de=L,ve=W;var ye=q;var me=ae;var he=ie;var be=ue;var xe=se;var ge=le;var _e=ce;var Oe=fe;var Pe=pe;var Ee=de;var je=ve;var we=function(){return!1};var ke=function(){return!1};var $e=function(e){return oe(e)===q};var Ce=function(e){return oe(e)===U};var Se=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===N};var Fe=function(e){return oe(e)===H};var Me=function(e){return oe(e)===D};var Ve=function(e){return oe(e)===Q};var Te=function(e){return oe(e)===K};var Re=function(e){return oe(e)===z};var Be=function(e){return oe(e)===Y};var Ae=function(e){return oe(e)===L};var Ge=function(e){return oe(e)===W};var Ie=function(e){return"string"===typeof e||"function"===typeof e||e===D||e===Y||e===te||e===L||e===W||e===J||e===re||"object"===typeof e&&null!==e&&(e.$$typeof===Q||e.$$typeof===K||e.$$typeof===U||e.$$typeof===q||e.$$typeof===H||e.$$typeof===ee||e.$$typeof===X||e[0]===Z)?!0:!1};var Ne=oe;var ze={ContextConsumer:ye,ContextProvider:me,Element:he,ForwardRef:be,Fragment:xe,Lazy:ge,Memo:_e,Portal:Oe,Profiler:Pe,StrictMode:Ee,Suspense:je,isAsyncMode:we,isConcurrentMode:ke,isContextConsumer:$e,isContextProvider:Ce,isElement:Se,isForwardRef:Fe,isFragment:Me,isLazy:Ve,isMemo:Te,isPortal:Re,isProfiler:Be,isStrictMode:Ae,isSuspense:Ge,isValidElementType:Ie,typeOf:Ne};var De=ze;var Le=u((function(e){{e.exports=De}}));var Ye=Le;var Ue=typeof Element!=="undefined";var qe=typeof Map==="function";var He=typeof Set==="function";var We=typeof ArrayBuffer==="function"&&!!ArrayBuffer.isView;function Je(e,t){if(e===t)return true;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return false;var r,n,o;if(Array.isArray(e)){r=e.length;if(r!=t.length)return false;for(n=r;n--!==0;)if(!Je(e[n],t[n]))return false;return true}var a;if(qe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return false;a=e.entries();while(!(n=a.next()).done)if(!t.has(n.value[0]))return false;a=e.entries();while(!(n=a.next()).done)if(!Je(n.value[1],t.get(n.value[0])))return false;return true}if(He&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return false;a=e.entries();while(!(n=a.next()).done)if(!t.has(n.value[0]))return false;return true}if(We&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){r=e.length;if(r!=t.length)return false;for(n=r;n--!==0;)if(e[n]!==t[n])return false;return true}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();o=Object.keys(e);r=o.length;if(r!==Object.keys(t).length)return false;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return false;if(Ue&&e instanceof Element)return false;for(n=r;n--!==0;){if((o[n]==="_owner"||o[n]==="__v"||o[n]==="__o")&&e.$$typeof){continue}if(!Je(e[o[n]],t[o[n]]))return false}return true}return e!==e&&t!==t}var Ke=function e(t,r){try{return Je(t,r)}catch(e){if((e.message||"").match(/stack|recursion/i)){console.warn("react-fast-compare cannot handle circular refs");return false}throw e}};var Qe=Ke;var Xe=function(e){C(n,e);var t=I(n);function n(){P(this,n);return t.apply(this,arguments)}j(n,[{key:"render",value:function e(){var t=this.props,n=t.children,o=t.name,a=t.onChange,i=t.value,u=t.onFocus,s=t.onBlur,l=t.isValid,c=t.isInvalid;var f=function e(t){var r=t.target,n=r.checked,o=r.value;var u=i||[];a(n?u.concat(o):u.filter((function(e){return e!==o})))};return r.Children.map(n,(function(e){var t=e.props.value;return r.cloneElement(e,{isValid:l,isInvalid:c,checked:!!i&&i.indexOf(t)>-1,onChange:f,onFocus:u,onBlur:s,name:o})}))}}]);return n}(r.Component);Xe.formutilType="array";var Ze=Xe;var et;try{var tt=document.createElement("style");tt.type="text/css";document.getElementsByTagName("head")[0].appendChild(tt);et=document.styleSheets[document.styleSheets.length-1]}catch(e){}function rt(e,t){if(et){if(et.insertRule){et.insertRule("".concat(e," { ").concat(t," }"),0)}else if(et.addRule){et.addRule(e,t,0)}}}var nt=["children","addons","label","helper","labelCol","wrapperCol","validationState","className","as","feedback","extra","noStyle","errorLevel"];var ot=Ye.isValidElementType;var at=r.createContext({}),it=at.Consumer,ut=at.Provider;var st=1;var lt=function e(t){st=t};var ct=n.FormControl.Feedback;function ft(e){if(e){var t=e.type;if(ot(t)){if(t.formutilType){return t.formutilType}if(typeof t==="string"&&e.props.type){return e.props.type}}return t||e}}var pt=function(e){C(i,e);var o=I(i);function i(){var e;P(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}e=o.call.apply(o,[this].concat(r));e.fields={};e.registerField=function(t,r){return r?e.fields[t]=r:delete e.fields[t]};e.latestValidationProps=null;e.checkHasError=function(e,t,r,n,o){switch(e){case 0:return t&&r&&n;case 1:return t&&r;case 2:return t;default:return false}};e.fetchCurrentValidationProps=function(t){var r=Object.keys(e.fields).map((function(t){return e.fields[t].$new()}));var n=r.filter((function(e){return e.$invalid}));var o=n.length>0;var a=r.some((function(e){return e.$dirty}));var i=r.some((function(e){return e.$touched}));var u=r.some((function(e){return e.$focused}));var s=n.map((function(r){var n=r.$invalid,o=r.$focused,a=r.$touched,i=r.$dirty,u=r.$getFirstError;var s=e.checkHasError(t,n,i,a,o);return s&&u()})).filter(Boolean);return e.getValidationProps(t,o,a,i,u,s)};e.getValidationProps=function(t,r,n,o,i,u){var s=e.checkHasError(t,r,n,o,i);var l={className:[e.props.className,s&&"has-error",r?"is-invalid":"is-valid",n?"is-dirty":"is-pristine",o?"is-touched":"is-untouched",i?"is-focused":"is-unfocused"].filter(Boolean).join(" ")};var c={};if(s){c.isInvalid=true}if(e.props.feedback&&!r){c.isValid=true}return{groupProps:l,validationProps:c,error:s?a["default"].createElement(ct,{type:"invalid"},Array.isArray(u)?u.map((function(e,t){return a["default"].createElement("div",{key:t},e)})):u):null}};return e}j(i,[{key:"componentDidMount",value:function e(){var t;(t=this.registerAncestorField)===null||t===void 0?void 0:t.call(this,this.props.name,this.$fieldutil)}},{key:"componentWillUnmount",value:function e(){var t;(t=this.registerAncestorField)===null||t===void 0?void 0:t.call(this,this.props.name,null)}},{key:"render",value:function e(){var o=this;var i=this.props;var u=i.children,s=i.addons,c=i.label,f=i.helper,p=i.labelCol,d=i.wrapperCol;i.validationState;i.className;var v=i.as;i.feedback;var m=i.extra,b=i.noStyle,x=i.errorLevel,g=x===void 0?st:x,O=_(i,nt);var P=d?n.Col:r.Fragment;var E=!v&&(p||d)?n.Row:v;if(c){if(r.isValidElement(c)){if(p){c=r.cloneElement(c,h({column:true},p))}}else{c=a["default"].createElement(n.FormLabel,Object.assign({column:!!p},p),c)}}var j=s?n.InputGroup:r.Fragment;var w=s?{size:s.size}:undefined;if(s){if(s.pre){s.pre=a["default"].createElement(n.InputGroup.Prepend,null,r.isValidElement(s.pre)?s.pre:a["default"].createElement(n.InputGroup.Text,null,s.pre))}if(s.end){s.end=a["default"].createElement(n.InputGroup.Append,null,r.isValidElement(s.end)?s.end:a["default"].createElement(n.InputGroup.Text,null,s.end))}}else{s={}}if(f&&!r.isValidElement(f)){f=a["default"].createElement(n.FormText,{className:"text-muted"},f)}if(!i.name){var k=this.latestValidationProps=this.fetchCurrentValidationProps(g),$=k.groupProps,C=k.error;Promise.resolve().then((function(){if(!Qe(o.latestValidationProps,o.fetchCurrentValidationProps(g))){o.forceUpdate()}}));return a["default"].createElement(ut,{value:this.registerField},a["default"].createElement(n.FormGroup,Object.assign({},O,$,{as:E}),c,a["default"].createElement(P,d,a["default"].createElement(j,w,s.pre,typeof u==="function"?u():u,s.end),C||f),m))}if(O.$memo===true){O.__DIFF__={childList:u,compositionValue:this.compositionValue}}else if(Array.isArray(O.$memo)){O.$memo=O.$memo.concat(this.compositionValue)}var S=typeof u==="function"?u:r.Children.only(u);var F=ft(S);if(F===n.FormControl){if(S.props.as==="select"&&S.props.multiple){F="multipleSelect"}}switch(F){case n.FormCheck:case n.ToggleButton:case"checkbox":case"radio":O.__TYPE__="checked";break;case"multipleSelect":O.__TYPE__="array";break;case Ze:case n.ToggleButtonGroup:if(S.props.type!=="radio"){O.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":O.__TYPE__=F;break}return a["default"].createElement(t.EasyField,Object.assign({},O,{passUtil:"$fieldutil",render:function e(t){var u,p;var v=i.valuePropName,h=v===void 0?"value":v,x=i.changePropName,k=x===void 0?"onChange":x,$=i.focusPropName,C=$===void 0?"onFocus":$,M=i.blurPropName,V=M===void 0?"onBlur":M;var T=t.$fieldutil,R=t[k],B=t[C],A=t[V],G=t[h],I=_(t,["$fieldutil",k,C,V,h].map(y));var N=T.$invalid,z=T.$dirty,D=T.$touched,L=T.$focused,Y=T.$getFirstError;var U;switch(O.__TYPE__){case"checked":case"checkbox":case"radio":var q=i.checked,H=q===void 0?true:q,W=i.unchecked,J=W===void 0?false:W;U={checked:G===H,onChange:function e(t){var r=t&&t.target?t.target.checked:t;R(r?H:J,t)}};break;default:U=(u={onCompositionEnd:function e(t){o.isComposing=false;delete o.compositionValue;R(t)},onCompositionStart:function e(){return o.isComposing=true}},l(u,k,F==="multipleSelect"?function(e){R([].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})),e)}:function(e){if(o.isComposing){o.compositionValue=e.target[h];o.forceUpdate()}else{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}R.apply(void 0,[e].concat(r))}}),l(u,h,"compositionValue"in o?o.compositionValue:G),l(u,V,(function(){if(o.isComposing){o.isComposing=false;delete o.compositionValue;R.apply(void 0,arguments)}return A.apply(void 0,arguments)})),l(u,"name",O.name),u);break}var K=o.getValidationProps(g,N,z,D,L,Y()),Q=K.groupProps,X=K.validationProps,Z=K.error;U=Object.assign((p={},l(p,C,B),l(p,V,A),p),U,X);var ee=typeof S==="function"?S(U):r.cloneElement(S,U);return a["default"].createElement(it,null,(function(e){if(b){o.$fieldutil=T;o.registerAncestorField=e;return ee}return a["default"].createElement(n.FormGroup,Object.assign({},I,Q,{as:E}),c,a["default"].createElement(P,d,a["default"].createElement(j,w,s.pre,ee,s.end),Z||f),m)}))}}))}}]);return i}(r.Component);var dt=pt;rt(".valid-feedback:empty,.invalid-feedback:empty","display: none !important");rt(".has-error .invalid-feedback","display: block");var vt=function(e){C(n,e);var t=I(n);function n(){P(this,n);return t.apply(this,arguments)}j(n,[{key:"render",value:function e(){var t=this.props,n=t.children,o=t.name,a=t.onChange,i=t.value,u=t.onFocus,s=t.onBlur,l=t.isValid,c=t.isInvalid;var f=function e(t){a(t.target.value,t)};return r.Children.map(n,(function(e){var t=e.props.value;return r.cloneElement(e,{isValid:l,isInvalid:c,checked:i===t,onChange:f,onFocus:u,onBlur:s,name:o})}))}}]);return n}(r.Component);var yt=vt;e.CheckboxGroup=Ze;e.FormGroup=dt;e.RadioGroup=yt;e.SwitchGroup=Ze;e.setErrorLevel=lt;Object.keys(t).forEach((function(r){if(r!=="default"&&!e.hasOwnProperty(r))Object.defineProperty(e,r,{enumerable:true,get:function(){return t[r]}})}));Object.defineProperty(e,"__esModule",{value:true})}));
