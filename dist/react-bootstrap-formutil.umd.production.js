!function(e,t){"object"===typeof exports&&"undefined"!==typeof module?t(exports,require("react-formutil"),require("react"),require("react-bootstrap")):"function"===typeof define&&define.amd?define(["exports","react-formutil","react","react-bootstrap"],t):t((e=e||self).ReactBootstrapFormutil={},e.ReactFormutil,e.React,e.ReactBootstrap)}(this,function(e,t,r,o){"use strict";var n="default"in r?r.default:r;function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function y(e,t){return e(t={exports:{}},t.exports),t.exports}var b,v=y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,s=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,h=r?Symbol.for("react.responder"):60118,C=r?Symbol.for("react.scope"):60119;function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case s:case f:case a:case c:case i:case d:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case b:case y:case n:return t}}}function E(e){return g(e)===f}t.typeOf=g,t.AsyncMode=s,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=y,t.Portal=n,t.Profiler=c,t.StrictMode=i,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===c||e===i||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===y||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===h||e.$$typeof===C)},t.isAsyncMode=function(e){return E(e)||g(e)===s},t.isConcurrentMode=E,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===b},t.isMemo=function(e){return g(e)===y},t.isPortal=function(e){return g(e)===n},t.isProfiler=function(e){return g(e)===c},t.isStrictMode=function(e){return g(e)===i},t.isSuspense=function(e){return g(e)===d}});(b=v)&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")&&b.default;v.typeOf,v.AsyncMode,v.ConcurrentMode,v.ContextConsumer,v.ContextProvider,v.Element,v.ForwardRef,v.Fragment,v.Lazy,v.Memo,v.Portal,v.Profiler,v.StrictMode,v.Suspense,v.isValidElementType,v.isAsyncMode,v.isConcurrentMode,v.isContextConsumer,v.isContextProvider,v.isElement,v.isForwardRef,v.isFragment,v.isLazy,v.isMemo,v.isPortal,v.isProfiler,v.isStrictMode,v.isSuspense;var h=y(function(e){e.exports=v}).isValidElementType,C=function(e){function t(){return a(this,t),d(this,s(t).apply(this,arguments))}return u(t,r.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.name,a=e.onChange,i=e.value,c=e.onFocus,l=e.onBlur,u=function(e){var t=e.target,r=t.checked,o=t.value,n=i||[];a(r?n.concat(o):n.filter(function(e){return e!==o}))};return n.createElement(r.Fragment,null,r.Children.map(t,function(e){var t=e.props.value;return r.cloneElement(e,{checked:!!i&&i.indexOf(t)>-1,onChange:u,onFocus:c,onBlur:l,name:o})}))}}]),t}(),g=1,E="FormControl"!==o.FormControl.name,S=E?o.Checkbox:"Checkbox",_=E?o.Radio:"Radio",k=E?C:"CheckboxGroup",P=E?o.ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";var O=function(e){function i(){return a(this,i),d(this,s(i).apply(this,arguments))}return u(i,r.Component),c(i,[{key:"render",value:function(){var e=this,a=this.props,i=a.children,c=a.addons,u=a.label,s=a.helper,f=a.labelCol,d=a.wrapperCol,y=a.controlId,b=a.validationState,v=a.bsSize,C=a.bsClass,O=a.className,F=a.feedback,$=a.errorLevel,j=void 0===$?g:$,w=p(a,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]),x=r.Children.only(i),M=d?o.Col:r.Fragment,T={controlId:y,bsSize:v,bsClass:C,className:O};u&&(r.isValidElement(u)?f&&(u=n.createElement(o.Col,f,u)):u=f?n.createElement(o.Col,Object.assign({},f,{componentClass:o.ControlLabel}),u):n.createElement(o.ControlLabel,null,u));var R=c?o.InputGroup:r.Fragment;c?(c.pre&&!r.isValidElement(c.pre)&&(c.pre=n.createElement(o.InputGroup.Addon,null,c.pre)),c.end&&!r.isValidElement(c.end)&&(c.end=n.createElement(o.InputGroup.Addon,null,c.end))):c={},s&&!r.isValidElement(s)&&(s=n.createElement(o.HelpBlock,null,s));var B=function(e){if(e){var t=e.type;return"string"!==typeof t&&h(t)?t.formutilType?t.formutilType:E?t:t.displayName||t.name:e.props.type||e.type}}(x);switch(B){case S:case _:case"checkbox":case"radio":w.__TYPE__="checked";break;case k:case P:"radio"!==x.props.type&&(w.__TYPE__="array");break;case"checked":case"array":case"object":case"number":case"empty":w.__TYPE__=B}return n.createElement(t.EasyField,Object.assign({},w,{passUtil:"$fieldutil",render:function(t){var i,f,y,v,h,C=a.valuePropName,g=void 0===C?"value":C,E=a.changePropName,S=void 0===E?"onChange":E,_=a.focusPropName,k=void 0===_?"onFocus":_,P=a.blurPropName,O=void 0===P?"onBlur":P,$=t.$fieldutil,B=t[S],V=t[k],G=t[O],L=t[g],N=p(t,["$fieldutil",S,k,O,g].map(m)),z=$.$invalid,A=$.$dirty,I=$.$touched,Y=$.$getFirstError;switch(w.__TYPE__){case"checked":case"checkbox":case"radio":var q=a.checked,U=void 0===q||q,H=a.unchecked,D=void 0!==H&&H;y={checked:L===U,onChange:function(e){var t=e&&e.target?e.target.checked:e;B(t?U:D,e)}};break;default:l(i={onCompositionEnd:function(t){e.isComposition=!1,delete e.compositionValue,B(t)},onCompositionStart:function(){return e.isComposition=!0}},S,function(t){if(e.isComposition)e.compositionValue=t.target[g],e.forceUpdate();else{for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];B.apply(void 0,[t].concat(o))}}),l(i,g,"compositionValue"in e?e.compositionValue:L),l(i,"name",w.name),y=i}switch(Object.assign(y,(l(f={},k,V),l(f,O,G),f)),j){case 0:v=z&&A&&I;break;case 1:v=z&&A;break;case 2:v=z;break;default:v=!1}return F&&(h="boolean"===typeof F?n.createElement(o.FormControl.Feedback,null):n.createElement(o.FormControl.Feedback,null,F)),n.createElement(o.FormGroup,Object.assign({},N,T,{validationState:v?"error":b}),u,n.createElement(M,d,n.createElement(R,null,c.pre,r.cloneElement(x,y),c.end),h,v?n.createElement(o.HelpBlock,null,Y()):s))}}))}}]),i}(),F=function(e){function t(){return a(this,t),d(this,s(t).apply(this,arguments))}return u(t,r.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.name,a=e.onChange,i=e.value,c=e.onFocus,l=e.onBlur,u=function(e){a(e.target.value,e)};return n.createElement(r.Fragment,null,r.Children.map(t,function(e){var t=e.props.value;return r.cloneElement(e,{checked:i===t,onChange:u,onFocus:c,onBlur:l,name:o})}))}}]),t}();Object.keys(t).forEach(function(r){"default"!==r&&Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e.CheckboxGroup=C,e.FormGroup=O,e.RadioGroup=F,e.setErrorLevel=function(e){g=e},Object.defineProperty(e,"__esModule",{value:!0})});
