(function(e,r){typeof exports==="object"&&typeof module!=="undefined"?r(exports,require("react-formutil"),require("react"),require("react-bootstrap")):typeof define==="function"&&define.amd?define(["exports","react-formutil","react","react-bootstrap"],r):(e=typeof globalThis!=="undefined"?globalThis:e||self,r(e.ReactBootstrapFormutil={},e.ReactFormutil,e.React,e.ReactBootstrap))})(this,(function(e,r,t,n){"use strict";function o(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var a=o(t);function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function u(e,r){return r={exports:{}},e(r,r.exports),r.exports}var s=u((function(e){function r(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var l=i(s);var c=u((function(e){function r(t){"@babel/helpers - typeof";return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(c);var f=c;var p=u((function(e){var r=f["default"];function t(e,t){if(r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if(r(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(p);var d=p;var v=u((function(e){var r=f["default"];function t(e){var t=d(e,"string");return r(t)==="symbol"?t:String(t)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var y=i(v);var m=u((function(e){function r(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(r){s(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var h=i(m);var b=u((function(e){function r(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(b);var x=b;var g=u((function(e){function r(e,r){if(e==null)return{};var t=x(e,r);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var _=i(g);var O=u((function(e){function r(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var P=i(O);var E=u((function(e){function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function t(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));var j=i(E);var w=u((function(e){function r(t,n){e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r},e.exports.__esModule=true,e.exports["default"]=e.exports;return r(t,n)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(w);var k=w;var $=u((function(e){function r(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(r)k(e,r)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var C=i($);var S=u((function(e){function r(t){e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(r){return r.__proto__||Object.getPrototypeOf(r)},e.exports.__esModule=true,e.exports["default"]=e.exports;return r(t)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(S);var F=u((function(e){function r(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(F);var M=u((function(e){function r(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(M);var V=M;var T=u((function(e){var r=f["default"];function t(e,t){if(t&&(r(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return V(e)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports}));i(T);var R=S;var B=F;var A=T;var G=u((function(e){function r(e){var r=B();return function t(){var n=R(e),o;if(r){var a=R(this).constructor;o=Reflect.construct(n,arguments,a)}else{o=n.apply(this,arguments)}return A(this,o)}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports}));var I=i(G);var L=60103,N=60106,z=60107,D=60108,Y=60114,U=60109,q=60110,H=60112,W=60113,J=60120,K=60115,Q=60116,X=60121,Z=60122,ee=60117,re=60129,te=60131;if("function"===typeof Symbol&&Symbol.for){var ne=Symbol.for;L=ne("react.element");N=ne("react.portal");z=ne("react.fragment");D=ne("react.strict_mode");Y=ne("react.profiler");U=ne("react.provider");q=ne("react.context");H=ne("react.forward_ref");W=ne("react.suspense");J=ne("react.suspense_list");K=ne("react.memo");Q=ne("react.lazy");X=ne("react.block");Z=ne("react.server.block");ee=ne("react.fundamental");re=ne("react.debug_trace_mode");te=ne("react.legacy_hidden")}function oe(e){if("object"===typeof e&&null!==e){var r=e.$$typeof;switch(r){case L:switch(e=e.type,e){case z:case Y:case D:case W:case J:return e;default:switch(e=e&&e.$$typeof,e){case q:case H:case Q:case K:case U:return e;default:return r}}case N:return r}}}var ae=U,ie=L,ue=H,se=z,le=Q,ce=K,fe=N,pe=Y,de=D,ve=W;var ye=q;var me=ae;var he=ie;var be=ue;var xe=se;var ge=le;var _e=ce;var Oe=fe;var Pe=pe;var Ee=de;var je=ve;var we=function(){return!1};var ke=function(){return!1};var $e=function(e){return oe(e)===q};var Ce=function(e){return oe(e)===U};var Se=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===L};var Fe=function(e){return oe(e)===H};var Me=function(e){return oe(e)===z};var Ve=function(e){return oe(e)===Q};var Te=function(e){return oe(e)===K};var Re=function(e){return oe(e)===N};var Be=function(e){return oe(e)===Y};var Ae=function(e){return oe(e)===D};var Ge=function(e){return oe(e)===W};var Ie=function(e){return"string"===typeof e||"function"===typeof e||e===z||e===Y||e===re||e===D||e===W||e===J||e===te||"object"===typeof e&&null!==e&&(e.$$typeof===Q||e.$$typeof===K||e.$$typeof===U||e.$$typeof===q||e.$$typeof===H||e.$$typeof===ee||e.$$typeof===X||e[0]===Z)?!0:!1};var Le=oe;var Ne={ContextConsumer:ye,ContextProvider:me,Element:he,ForwardRef:be,Fragment:xe,Lazy:ge,Memo:_e,Portal:Oe,Profiler:Pe,StrictMode:Ee,Suspense:je,isAsyncMode:we,isConcurrentMode:ke,isContextConsumer:$e,isContextProvider:Ce,isElement:Se,isForwardRef:Fe,isFragment:Me,isLazy:Ve,isMemo:Te,isPortal:Re,isProfiler:Be,isStrictMode:Ae,isSuspense:Ge,isValidElementType:Ie,typeOf:Le};var ze=Ne;var De=u((function(e){{e.exports=ze}}));var Ye=De;var Ue=typeof Element!=="undefined";var qe=typeof Map==="function";var He=typeof Set==="function";var We=typeof ArrayBuffer==="function"&&!!ArrayBuffer.isView;function Je(e,r){if(e===r)return true;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return false;var t,n,o;if(Array.isArray(e)){t=e.length;if(t!=r.length)return false;for(n=t;n--!==0;)if(!Je(e[n],r[n]))return false;return true}var a;if(qe&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return false;a=e.entries();while(!(n=a.next()).done)if(!r.has(n.value[0]))return false;a=e.entries();while(!(n=a.next()).done)if(!Je(n.value[1],r.get(n.value[0])))return false;return true}if(He&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return false;a=e.entries();while(!(n=a.next()).done)if(!r.has(n.value[0]))return false;return true}if(We&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){t=e.length;if(t!=r.length)return false;for(n=t;n--!==0;)if(e[n]!==r[n])return false;return true}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();o=Object.keys(e);t=o.length;if(t!==Object.keys(r).length)return false;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return false;if(Ue&&e instanceof Element)return false;for(n=t;n--!==0;){if((o[n]==="_owner"||o[n]==="__v"||o[n]==="__o")&&e.$$typeof){continue}if(!Je(e[o[n]],r[o[n]]))return false}return true}return e!==e&&r!==r}var Ke=function e(r,t){try{return Je(r,t)}catch(e){if((e.message||"").match(/stack|recursion/i)){console.warn("react-fast-compare cannot handle circular refs");return false}throw e}};var Qe=Ke;var Xe=function(e){C(n,e);var r=I(n);function n(){P(this,n);return r.apply(this,arguments)}j(n,[{key:"render",value:function e(){var r=this.props,n=r.children,o=r.name,a=r.onChange,i=r.value,u=r.onFocus,s=r.onBlur,l=r.isValid,c=r.isInvalid;var f=function e(r){var t=r.target,n=t.checked,o=t.value;var u=i||[];a(n?u.concat(o):u.filter((function(e){return e!==o})))};return t.Children.map(n,(function(e){var r=e.props.value;return t.cloneElement(e,{isValid:l,isInvalid:c,checked:!!i&&i.indexOf(r)>-1,onChange:f,onFocus:u,onBlur:s,name:o})}))}}]);return n}(t.Component);Xe.formutilType="array";var Ze=Xe;var er;try{var rr=document.createElement("style");rr.type="text/css";document.getElementsByTagName("head")[0].appendChild(rr);er=document.styleSheets[document.styleSheets.length-1]}catch(e){}function tr(e,r){if(er){if(er.insertRule){er.insertRule("".concat(e," { ").concat(r," }"),0)}else if(er.addRule){er.addRule(e,r,0)}}}var nr=["children","addons","label","helper","labelCol","wrapperCol","validationState","className","as","feedback","floatingLabel","extra","noStyle","errorLevel"];var or=Ye.isValidElementType;var ar=t.createContext({}),ir=ar.Consumer,ur=ar.Provider;var sr=1;var lr=function e(r){sr=r};var cr=n.FormControl.Feedback;function fr(e){if(e){var r=e.type;if(or(r)){if(r.formutilType){return r.formutilType}if(typeof r==="string"&&e.props.type){return e.props.type}}return r||e}}var pr=function(e){C(i,e);var o=I(i);function i(){var e;P(this,i);for(var r=arguments.length,t=new Array(r),n=0;n<r;n++){t[n]=arguments[n]}e=o.call.apply(o,[this].concat(t));e.fields={};e.registerField=function(r,t){return t?e.fields[r]=t:delete e.fields[r]};e.latestValidationProps=null;e.checkHasError=function(e,r,t,n,o){switch(e){case 0:return r&&t&&n;case 1:return r&&t;case 2:return r;default:return false}};e.fetchCurrentValidationProps=function(r){var t=Object.keys(e.fields).map((function(r){return e.fields[r].$new()}));var n=t.filter((function(e){return e.$invalid}));var o=n.length>0;var a=t.some((function(e){return e.$dirty}));var i=t.some((function(e){return e.$touched}));var u=t.some((function(e){return e.$focused}));var s=n.map((function(t){var n=t.$invalid,o=t.$focused,a=t.$touched,i=t.$dirty,u=t.$getFirstError;var s=e.checkHasError(r,n,i,a,o);return s&&u()})).filter(Boolean);return e.getValidationProps(r,o,a,i,u,s)};e.getValidationProps=function(r,t,n,o,i,u){var s=e.checkHasError(r,t,n,o,i);var l={className:[e.props.className,s&&"has-error",t?"is-invalid":"is-valid",n?"is-dirty":"is-pristine",o?"is-touched":"is-untouched",i?"is-focused":"is-unfocused"].filter(Boolean).join(" ")};var c={};if(s){c.isInvalid=true}if(e.props.feedback&&!t){c.isValid=true}return{groupProps:l,validationProps:c,error:s?a["default"].createElement(cr,{type:"invalid"},Array.isArray(u)?u.map((function(e,r){return a["default"].createElement("div",{key:r},e)})):u):null}};return e}j(i,[{key:"componentDidMount",value:function e(){var r;(r=this.registerAncestorField)===null||r===void 0?void 0:r.call(this,this.props.name,this.$fieldutil)}},{key:"componentWillUnmount",value:function e(){var r;(r=this.registerAncestorField)===null||r===void 0?void 0:r.call(this,this.props.name,null)}},{key:"render",value:function e(){var o=this;var i=this.props;var u=i.children,s=i.addons,c=i.label,f=i.helper,p=i.labelCol,d=i.wrapperCol;i.validationState;i.className;var v=i.as;i.feedback;var m=i.floatingLabel,b=i.extra,x=i.noStyle,g=i.errorLevel,O=g===void 0?sr:g,P=_(i,nr);var E=d?n.Col:t.Fragment;var j=!v&&(p||d)?n.Row:v;if(c){if(t.isValidElement(c)){if(p){c=t.cloneElement(c,h({column:true},p))}}else{c=a["default"].createElement(n.FormLabel,Object.assign({column:!!p},p),c)}}var w=s?n.InputGroup:t.Fragment;var k=s?{size:s.size}:undefined;if(s){if(s.pre){s.pre=t.isValidElement(s.pre)?s.pre:a["default"].createElement(n.InputGroup.Text,null,s.pre)}if(s.end){s.end=t.isValidElement(s.end)?s.end:a["default"].createElement(n.InputGroup.Text,null,s.end)}}else{s={}}if(f&&!t.isValidElement(f)){f=a["default"].createElement(n.FormText,{muted:true},f)}if(!i.name){var $=this.latestValidationProps=this.fetchCurrentValidationProps(O),C=$.groupProps,S=$.error;Promise.resolve().then((function(){if(!Qe(o.latestValidationProps,o.fetchCurrentValidationProps(O))){o.forceUpdate()}}));var F=typeof u==="function"?u():u;return a["default"].createElement(ur,{value:this.registerField},a["default"].createElement(n.FormGroup,Object.assign({},P,C,{as:j}),c,a["default"].createElement(E,d,a["default"].createElement(w,k,s.pre,F,s.end),S||f),b))}if(P.$memo===true){P.__DIFF__={childList:u,compositionValue:this.compositionValue}}else if(Array.isArray(P.$memo)){P.$memo=P.$memo.concat(this.compositionValue)}var M=typeof u==="function"?u:t.Children.only(u);var V=fr(M);if((V===n.FormControl&&M.props.as==="select"||V===n.FormSelect)&&M.props.multiple){V="multipleSelect"}switch(V){case n.FormCheck:case n.ToggleButton:case"checkbox":case"radio":P.__TYPE__="checked";break;case"multipleSelect":P.__TYPE__="array";break;case Ze:case n.ToggleButtonGroup:if(M.props.type!=="radio"){P.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":P.__TYPE__=V;break}return a["default"].createElement(r.EasyField,Object.assign({},P,{passUtil:"$fieldutil",render:function e(r){var u,p;var v=i.valuePropName,h=v===void 0?"value":v,g=i.changePropName,$=g===void 0?"onChange":g,C=i.focusPropName,S=C===void 0?"onFocus":C,F=i.blurPropName,T=F===void 0?"onBlur":F;var R=r.$fieldutil,B=r[$],A=r[S],G=r[T],I=r[h],L=_(r,["$fieldutil",$,S,T,h].map(y));var N=R.$invalid,z=R.$dirty,D=R.$touched,Y=R.$focused,U=R.$getFirstError;var q;switch(P.__TYPE__){case"checked":case"checkbox":case"radio":var H=i.checked,W=H===void 0?true:H,J=i.unchecked,K=J===void 0?false:J;q={checked:I===W,onChange:function e(r){var t=r&&r.target?r.target.checked:r;B(t?W:K,r)}};break;default:q=(u={onCompositionEnd:function e(r){o.isComposing=false;delete o.compositionValue;B(r)},onCompositionStart:function e(){return o.isComposing=true}},l(u,$,V==="multipleSelect"?function(e){B([].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})),e)}:function(e){if(o.isComposing){o.compositionValue=e.target[h];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++){t[n-1]=arguments[n]}B.apply(void 0,[e].concat(t))}}),l(u,h,"compositionValue"in o?o.compositionValue:I),l(u,T,(function(){if(o.isComposing){o.isComposing=false;delete o.compositionValue;B.apply(void 0,arguments)}return G.apply(void 0,arguments)})),l(u,"name",P.name),u);break}var Q=o.getValidationProps(O,N,z,D,Y,U()),X=Q.groupProps,Z=Q.validationProps,ee=Q.error;q=Object.assign((p={},l(p,S,A),l(p,T,G),p),q,Z);var re=typeof M==="function"?M(q):t.cloneElement(M,q);return a["default"].createElement(ir,null,(function(e){if(x){o.$fieldutil=R;o.registerAncestorField=e;return re}return a["default"].createElement(n.FormGroup,Object.assign({},L,X,{as:j}),!m&&c,a["default"].createElement(E,d,a["default"].createElement(w,k,s.pre,m&&c?a["default"].createElement(n.FloatingLabel,{label:c.props.children},re):re,s.end),ee||f),b)}))}}))}}]);return i}(t.Component);var dr=pr;tr(".valid-feedback:empty,.invalid-feedback:empty","display: none !important");tr(".has-error .invalid-feedback","display: block");var vr=function(e){C(n,e);var r=I(n);function n(){P(this,n);return r.apply(this,arguments)}j(n,[{key:"render",value:function e(){var r=this.props,n=r.children,o=r.name,a=r.onChange,i=r.value,u=r.onFocus,s=r.onBlur,l=r.isValid,c=r.isInvalid;var f=function e(r){a(r.target.value,r)};return t.Children.map(n,(function(e){var r=e.props.value;return t.cloneElement(e,{isValid:l,isInvalid:c,checked:i===r,onChange:f,onFocus:u,onBlur:s,name:o})}))}}]);return n}(t.Component);var yr=vr;e.CheckboxGroup=Ze;e.FormGroup=dr;e.RadioGroup=yr;e.SwitchGroup=Ze;e.setErrorLevel=lr;Object.keys(r).forEach((function(t){if(t!=="default"&&!e.hasOwnProperty(t))Object.defineProperty(e,t,{enumerable:true,get:function(){return r[t]}})}));Object.defineProperty(e,"__esModule",{value:true})}));
