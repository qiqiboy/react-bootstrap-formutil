"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var e=require("react-formutil");var r=require("react");var t=_interopDefault(r);var o=require("react-bootstrap");function _classCallCheck(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){if(r)_defineProperties(e.prototype,r);if(t)_defineProperties(e,t);return e}function _defineProperty(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function _inherits(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)_setPrototypeOf(e,r)}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _setPrototypeOf(e,r){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,r){e.__proto__=r;return e};return _setPrototypeOf(e,r)}function _objectWithoutPropertiesLoose(e,r){if(e==null)return{};var t={};var o=Object.keys(e);var n,a;for(a=0;a<o.length;a++){n=o[a];if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function _objectWithoutProperties(e,r){if(e==null)return{};var t=_objectWithoutPropertiesLoose(e,r);var o,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++){o=a[n];if(r.indexOf(o)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,o))continue;t[o]=e[o]}}return t}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _possibleConstructorReturn(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return _assertThisInitialized(e)}function _toPrimitive(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var o=t.call(e,r||"default");if(typeof o!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return typeof r==="symbol"?r:String(r)}var n=function(e){_inherits(CheckboxGroup,e);function CheckboxGroup(){_classCallCheck(this,CheckboxGroup);return _possibleConstructorReturn(this,_getPrototypeOf(CheckboxGroup).apply(this,arguments))}_createClass(CheckboxGroup,[{key:"render",value:function render(){var e=this.props,o=e.children,n=e.name,a=e.onChange,i=e.value,l=e.onFocus,u=e.onBlur;var c=function childOnChange(e){var r=e.target,t=r.checked,o=r.value;var n=i||[];a(t?n.concat(o):n.filter(function(e){return e!==o}))};return t.createElement(r.Fragment,null,r.Children.map(o,function(e){var t=e.props.value;return r.cloneElement(e,{checked:!!i&&i.indexOf(t)>-1,onChange:c,onFocus:l,onBlur:u,name:n})}))}}]);return CheckboxGroup}(r.Component);var a=1;var i=function setErrorLevel(e){a=e};var l=o.FormControl.name!=="FormControl";var u=l?o.Checkbox:"Checkbox";var c=l?o.Radio:"Radio";var s=l?n:"CheckboxGroup";var p=l?o.ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function getChildComponent(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(l){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var f=function(n){_inherits(_FormGroup,n);function _FormGroup(){_classCallCheck(this,_FormGroup);return _possibleConstructorReturn(this,_getPrototypeOf(_FormGroup).apply(this,arguments))}_createClass(_FormGroup,[{key:"render",value:function render(){var n=this.props;var i=n.children,l=n.addons,f=n.label,d=n.helper,b=n.labelCol,h=n.wrapperCol,v=n.controlId,m=n.validationState,_=n.bsSize,y=n.bsClass,C=n.className,g=n.feedback,P=n.errorLevel,k=P===void 0?a:P,O=_objectWithoutProperties(n,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var E=r.Children.only(i);var j=h?o.Col:r.Fragment;var G={controlId:v,bsSize:_,bsClass:y,className:C};if(f){if(r.isValidElement(f)){if(b){f=t.createElement(o.Col,b,f)}}else{f=b?t.createElement(o.Col,Object.assign({},b,{componentClass:o.ControlLabel}),f):t.createElement(o.ControlLabel,null,f)}}var F=l?o.InputGroup:r.Fragment;if(l){if(l.pre&&!r.isValidElement(l.pre)){l.pre=t.createElement(o.InputGroup.Addon,null,l.pre)}if(l.end&&!r.isValidElement(l.end)){l.end=t.createElement(o.InputGroup.Addon,null,l.end)}}else{l={}}if(d&&!r.isValidElement(d)){d=t.createElement(o.HelpBlock,null,d)}var x=getChildComponent(E);switch(x){case u:case c:case"checkbox":case"radio":O.__TYPE__="checked";break;case s:case p:if(E.props.type!=="radio"){O.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":O.__TYPE__=x;break;default:break}return t.createElement(e.EasyField,Object.assign({},O,{passUtil:"$fieldutil",render:function render(e){var a,i;var u=n.valuePropName,c=u===void 0?"value":u,s=n.changePropName,p=s===void 0?"onChange":s,b=n.focusPropName,v=b===void 0?"onFocus":b,_=n.blurPropName,y=_===void 0?"onBlur":_;var C=e.$fieldutil,P=e[p],x=e[v],w=e[y],R=e[c],T=_objectWithoutProperties(e,["$fieldutil",p,v,y,c].map(_toPropertyKey));var S=C.$invalid,B=C.$dirty,I=C.$touched,N=C.$getFirstError;var L;switch(O.__TYPE__){case"checked":case"checkbox":case"radio":var $=n.checked,z=$===void 0?true:$,W=n.unchecked,V=W===void 0?false:W;L={checked:R===z,onChange:function onChange(e){var r=e&&e.target?e.target.checked:e;P(r?z:V,e)}};break;default:L=(a={},_defineProperty(a,p,P),_defineProperty(a,c,R),_defineProperty(a,"name",O.name),a);break}Object.assign(L,(i={},_defineProperty(i,v,x),_defineProperty(i,y,w),i));var Y,q;switch(k){case 0:Y=S&&B&&I;break;case 1:Y=S&&B;break;case 2:Y=S;break;default:Y=false;break}if(g){if(typeof g==="boolean"){q=t.createElement(o.FormControl.Feedback,null)}else{q=t.createElement(o.FormControl.Feedback,null,g)}}return t.createElement(o.FormGroup,Object.assign({},T,G,{validationState:Y?"error":m}),f,t.createElement(j,h,t.createElement(F,null,l.pre,r.cloneElement(E,L),l.end),q,Y?t.createElement(o.HelpBlock,null,N()):d))}}))}}]);return _FormGroup}(r.Component);var d=function(e){_inherits(RadioGroup,e);function RadioGroup(){_classCallCheck(this,RadioGroup);return _possibleConstructorReturn(this,_getPrototypeOf(RadioGroup).apply(this,arguments))}_createClass(RadioGroup,[{key:"render",value:function render(){var e=this.props,o=e.children,n=e.name,a=e.onChange,i=e.value,l=e.onFocus,u=e.onBlur;var c=function childOnChange(e){a(e.target.value,e)};return t.createElement(r.Fragment,null,r.Children.map(o,function(e){var t=e.props.value;return r.cloneElement(e,{checked:i===t,onChange:c,onFocus:l,onBlur:u,name:n})}))}}]);return RadioGroup}(r.Component);Object.keys(e).forEach(function(r){Object.defineProperty(exports,r,{enumerable:true,get:function(){return e[r]}})});exports.CheckboxGroup=n;exports.FormGroup=f;exports.RadioGroup=d;exports.setErrorLevel=i;
