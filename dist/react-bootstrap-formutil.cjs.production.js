"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("react-formutil");var t=require("react");var n=e(t);var o=require("react-is");var i=require("react-bootstrap");function a(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function l(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,r,t){if(r)l(e.prototype,r);if(t)l(e,t);return e}function c(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable});t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){s(t,true).forEach(function(r){c(e,r,t[r])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{s(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}}return e}function f(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)m(e,r)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return d(e)}function m(e,r){m=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return m(e,r)}function v(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function b(e,r){if(e==null)return{};var t=v(e,r);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return y(e)}function g(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function O(e){var r=g(e,"string");return typeof r==="symbol"?r:String(r)}var k=function(e){f(r,e);function r(){a(this,r);return h(this,d(r).apply(this,arguments))}u(r,[{key:"render",value:function e(){var r=this.props,n=r.children,o=r.name,i=r.onChange,a=r.value,l=r.onFocus,u=r.onBlur,c=r.isValid,s=r.isInvalid;var p=function e(r){var t=r.target,n=t.checked,o=t.value;var l=a||[];i(n?l.concat(o):l.filter(function(e){return e!==o}))};return t.Children.map(n,function(e){var r=e.props.value;return t.cloneElement(e,{isValid:c,isInvalid:s,checked:!!a&&a.indexOf(r)>-1,onChange:p,onFocus:l,onBlur:u,name:o})})}}]);return r}(t.Component);var E;try{var j=document.createElement("style");j.type="text/css";document.getElementsByTagName("head")[0].appendChild(j);E=document.styleSheets[document.styleSheets.length-1]}catch(e){}function C(e,r){if(E){if(E.insertRule){E.insertRule("".concat(e," { ").concat(r," }"),0)}else if(E.addRule){E.addRule(e,r,0)}}}var P=1;var _=function e(r){P=r};var w=i.Form.displayName!=="Form";var x=w?i.FormControl:"FormControl";var F=w?i.FormCheck:"FormCheck";var T=w?k:"CheckboxGroup";var S=w?i.ToggleButton:"ToggleButton";var N=w?i.ToggleButtonGroup:"ToggleButtonGroup";var V=i.FormControl.Feedback;function G(e){if(e){var r=e.type;if(typeof r!=="string"&&o.isValidElementType(r)){if(r.formutilType){return r.formutilType}if(w){return r}return r.displayName||r.name}return e.props.type||e.type}}var B=function(e){f(o,e);function o(){a(this,o);return h(this,d(o).apply(this,arguments))}u(o,[{key:"render",value:function e(){var o=this;var a=this.props;var l=a.children,u=a.addons,s=a.label,f=a.helper,d=a.labelCol,m=a.wrapperCol,v=a.validationState,y=a.className,h=a.feedback,g=a.extra,k=a.errorLevel,E=k===void 0?P:k,j=b(a,["children","addons","label","helper","labelCol","wrapperCol","validationState","className","feedback","extra","errorLevel"]);var C=t.Children.only(l);var _=m?i.Col:t.Fragment;var w={className:y};if(s){if(t.isValidElement(s)){if(d){s=t.cloneElement(s,p({column:true},d))}}else{s=n.createElement(i.FormLabel,Object.assign({column:!!d},d),s)}}if(d||m){w.as=i.Row}var B=u?i.InputGroup:t.Fragment;var I=u?{size:u.size}:undefined;if(u){if(u.pre){u.pre=n.createElement(i.InputGroup.Prepend,null,t.isValidElement(u.pre)?u.pre:n.createElement(i.InputGroup.Text,null,u.pre))}if(u.end){u.end=n.createElement(i.InputGroup.Append,null,t.isValidElement(u.end)?u.end:n.createElement(i.InputGroup.Text,null,u.end))}}else{u={}}if(f&&!t.isValidElement(f)){f=n.createElement(i.FormText,{className:"text-muted"},f)}var $=G(C);if($===x){if(C.props.as==="select"&&C.props.multiple){$="multipleSelect"}}switch($){case F:case S:case"checkbox":case"radio":j.__TYPE__="checked";break;case"multipleSelect":j.__TYPE__="array";break;case T:case N:if(C.props.type!=="radio"){j.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":j.__TYPE__=$;break}return n.createElement(r.EasyField,Object.assign({},j,{passUtil:"$fieldutil",render:function e(r){var l,p;var d=a.valuePropName,v=d===void 0?"value":d,y=a.changePropName,k=y===void 0?"onChange":y,P=a.focusPropName,x=P===void 0?"onFocus":P,F=a.blurPropName,T=F===void 0?"onBlur":F;var S=r.$fieldutil,N=r[k],G=r[x],R=r[T],Y=r[v],q=b(r,["$fieldutil",k,x,T,v].map(O));var D=S.$invalid,L=S.$dirty,z=S.$touched,A=S.$focused,U=S.$getFirstError;var M;switch(j.__TYPE__){case"checked":case"checkbox":case"radio":var H=a.checked,J=H===void 0?true:H,K=a.unchecked,Q=K===void 0?false:K;M={checked:Y===J,onChange:function e(r){var t=r&&r.target?r.target.checked:r;N(t?J:Q,r)}};break;default:M=(l={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;N(r)},onCompositionStart:function e(){return o.isComposition=true}},c(l,k,$==="multipleSelect"?function(e){N([].slice.call(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value}),e)}:function(e){if(o.isComposition){o.compositionValue=e.target[v];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++){t[n-1]=arguments[n]}N.apply(void 0,[e].concat(t))}}),c(l,v,"compositionValue"in o?o.compositionValue:Y),c(l,"name",j.name),l);break}Object.assign(M,(p={},c(p,x,G),c(p,T,R),p));var W;switch(E){case 0:W=D&&L&&z;break;case 1:W=D&&L;break;case 2:W=D;break;default:W=false;break}if(W){M.isInvalid=true}if(h&&!D){M.isValid=true}w.className=[w.className,W&&"has-error",D?"is-invalid":"is-valid",L?"is-dirty":"is-pristine",z?"is-touched":"is-untouched",A?"is-focused":"is-unfocused"].filter(Boolean).join(" ");return n.createElement(i.FormGroup,Object.assign({},q,w),s,n.createElement(_,m,n.createElement(B,I,u.pre,t.cloneElement(C,M),u.end),W?n.createElement(V,{type:"invalid"},n.createElement(i.FormText,null,U())):f),g)}}))}}]);return o}(t.Component);C(".valid-feedback:empty,.invalid-feedback:empty","display: none !important");C(".has-error .invalid-feedback","display: block");var I=function(e){f(r,e);function r(){a(this,r);return h(this,d(r).apply(this,arguments))}u(r,[{key:"render",value:function e(){var r=this.props,n=r.children,o=r.name,i=r.onChange,a=r.value,l=r.onFocus,u=r.onBlur,c=r.isValid,s=r.isInvalid;var p=function e(r){i(r.target.value,r)};return t.Children.map(n,function(e){var r=e.props.value;return t.cloneElement(e,{isValid:c,isInvalid:s,checked:a===r,onChange:p,onFocus:l,onBlur:u,name:o})})}}]);return r}(t.Component);Object.keys(r).forEach(function(e){if(e!=="default")Object.defineProperty(exports,e,{enumerable:true,get:function(){return r[e]}})});exports.CheckboxGroup=k;exports.FormGroup=B;exports.RadioGroup=I;exports.SwitchGroup=k;exports.setErrorLevel=_;
