"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("react-formutil");var t=require("react");var n=e(t);var o=require("react-is");var a=require("react-bootstrap");function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function l(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,r,t){if(r)l(e.prototype,r);if(t)l(e,t);return e}function c(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function s(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)p(e,r)}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return f(e)}function p(e,r){p=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return p(e,r)}function d(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function v(e,r){if(e==null)return{};var t=d(e,r);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return m(e)}function h(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function y(e){var r=h(e,"string");return typeof r==="symbol"?r:String(r)}var g=function(e){s(r,e);function r(){i(this,r);return b(this,f(r).apply(this,arguments))}u(r,[{key:"render",value:function e(){var r=this.props,o=r.children,a=r.name,i=r.onChange,l=r.value,u=r.onFocus,c=r.onBlur;var s=function e(r){var t=r.target,n=t.checked,o=t.value;var a=l||[];i(n?a.concat(o):a.filter(function(e){return e!==o}))};return n.createElement(t.Fragment,null,t.Children.map(o,function(e){var r=e.props.value;return t.cloneElement(e,{checked:!!l&&l.indexOf(r)>-1,onChange:s,onFocus:u,onBlur:c,name:a})}))}}]);return r}(t.Component);var C=1;var k=function e(r){C=r};var E=a.FormControl.name!=="FormControl";var O=E?a.Checkbox:"Checkbox";var _=E?a.Radio:"Radio";var j=E?g:"CheckboxGroup";var P=E?a.ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function w(e){if(e){var r=e.type;if(typeof r!=="string"&&o.isValidElementType(r)){if(r.formutilType){return r.formutilType}if(E){return r}return r.displayName||r.name}return e.props.type||e.type}}var F=function(e){s(o,e);function o(){i(this,o);return b(this,f(o).apply(this,arguments))}u(o,[{key:"render",value:function e(){var o=this;var i=this.props;var l=i.children,u=i.addons,s=i.label,f=i.helper,p=i.labelCol,d=i.wrapperCol,m=i.controlId,b=i.validationState,h=i.bsSize,g=i.bsClass,k=i.className,E=i.feedback,F=i.errorLevel,x=F===void 0?C:F,S=v(i,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var T=t.Children.only(l);var G=d?a.Col:t.Fragment;var B={controlId:m,bsSize:h,bsClass:g,className:k};if(s){if(t.isValidElement(s)){if(p){s=n.createElement(a.Col,p,s)}}else{s=p?n.createElement(a.Col,Object.assign({},p,{componentClass:a.ControlLabel}),s):n.createElement(a.ControlLabel,null,s)}}var N=u?a.InputGroup:t.Fragment;if(u){if(u.pre&&!t.isValidElement(u.pre)){u.pre=n.createElement(a.InputGroup.Addon,null,u.pre)}if(u.end&&!t.isValidElement(u.end)){u.end=n.createElement(a.InputGroup.Addon,null,u.end)}}else{u={}}if(f&&!t.isValidElement(f)){f=n.createElement(a.HelpBlock,null,f)}var V=w(T);switch(V){case O:case _:case"checkbox":case"radio":S.__TYPE__="checked";break;case j:case P:if(T.props.type!=="radio"){S.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":S.__TYPE__=V;break}return n.createElement(r.EasyField,Object.assign({},S,{passUtil:"$fieldutil",render:function e(r){var l,p;var m=i.valuePropName,h=m===void 0?"value":m,g=i.changePropName,C=g===void 0?"onChange":g,k=i.focusPropName,O=k===void 0?"onFocus":k,_=i.blurPropName,j=_===void 0?"onBlur":_;var P=r.$fieldutil,w=r[C],F=r[O],V=r[j],I=r[h],$=v(r,["$fieldutil",C,O,j,h].map(y));var L=P.$invalid,q=P.$dirty,R=P.$touched,Y=P.$getFirstError;var z;switch(S.__TYPE__){case"checked":case"checkbox":case"radio":var A=i.checked,U=A===void 0?true:A,H=i.unchecked,M=H===void 0?false:H;z={checked:I===U,onChange:function e(r){var t=r&&r.target?r.target.checked:r;w(t?U:M,r)}};break;default:z=(l={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;w(r)},onCompositionStart:function e(){return o.isComposition=true}},c(l,C,function(e){if(o.isComposition){o.compositionValue=e.target[h];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++){t[n-1]=arguments[n]}w.apply(void 0,[e].concat(t))}}),c(l,h,"compositionValue"in o?o.compositionValue:I),c(l,"name",S.name),l);break}Object.assign(z,(p={},c(p,O,F),c(p,j,V),p));var D,J;switch(x){case 0:D=L&&q&&R;break;case 1:D=L&&q;break;case 2:D=L;break;default:D=false;break}if(E){if(typeof E==="boolean"){J=n.createElement(a.FormControl.Feedback,null)}else{J=n.createElement(a.FormControl.Feedback,null,E)}}return n.createElement(a.FormGroup,Object.assign({},$,B,{validationState:D?"error":b}),s,n.createElement(G,d,n.createElement(N,null,u.pre,t.cloneElement(T,z),u.end),J,D?n.createElement(a.HelpBlock,null,Y()):f))}}))}}]);return o}(t.Component);var x=function(e){s(r,e);function r(){i(this,r);return b(this,f(r).apply(this,arguments))}u(r,[{key:"render",value:function e(){var r=this.props,o=r.children,a=r.name,i=r.onChange,l=r.value,u=r.onFocus,c=r.onBlur;var s=function e(r){i(r.target.value,r)};return n.createElement(t.Fragment,null,t.Children.map(o,function(e){var r=e.props.value;return t.cloneElement(e,{checked:l===r,onChange:s,onFocus:u,onBlur:c,name:a})}))}}]);return r}(t.Component);Object.keys(r).forEach(function(e){if(e!=="default")Object.defineProperty(exports,e,{enumerable:true,get:function(){return r[e]}})});exports.CheckboxGroup=g;exports.FormGroup=F;exports.RadioGroup=x;exports.setErrorLevel=k;
