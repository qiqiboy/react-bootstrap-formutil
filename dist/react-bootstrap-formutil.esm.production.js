import{EasyField as e}from"react-formutil";export*from"react-formutil";import r,{Fragment as t,Children as n,cloneElement as o,Component as a,isValidElement as c}from"react";import{FormControl,Col as l,ControlLabel,InputGroup,HelpBlock,FormGroup,Checkbox,Radio,ToggleButtonGroup}from"react-bootstrap";function i(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function u(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function f(e,r){if(e==null)return{};var t=u(e,r);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function s(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,r,t){if(r)p(e.prototype,r);if(t)p(e,t);return e}function v(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){v=function e(r){return typeof r}}else{v=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return v(e)}function d(e){if(typeof Symbol==="function"&&v(Symbol.iterator)==="symbol"){d=function e(r){return v(r)}}else{d=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":v(r)}}return d(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,r){if(r&&(d(r)==="object"||typeof r==="function")){return r}return m(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return h(e)}function k(e,r){k=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return k(e,r)}function g(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)k(e,r)}var E=function(e){g(a,e);function a(){s(this,a);return y(this,h(a).apply(this,arguments))}b(a,[{key:"render",value:function e(){var a=this.props,c=a.children,l=a.name,i=a.onChange,u=a.value,f=a.onFocus,s=a.onBlur;var p=function e(r){var t=r.target,n=t.checked,o=t.value;var a=u||[];i(n?a.concat(o):a.filter(function(e){return e!==o}))};return r.createElement(t,null,n.map(c,function(e){var r=e.props.value;return o(e,{checked:!!u&&u.indexOf(r)>-1,onChange:p,onFocus:f,onBlur:s,name:l})}))}}]);return a}(a);var O=1;var _=function e(r){O=r};var S=FormControl.name!=="FormControl";var C=S?Checkbox:"Checkbox";var j=S?Radio:"Radio";var w=S?E:"CheckboxGroup";var P=S?ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function x(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(S){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var F=function(n){g(a,n);function a(){s(this,a);return y(this,h(a).apply(this,arguments))}b(a,[{key:"render",value:function n(){var a=this.props;var u=a.children,s=a.addons,p=a.label,b=a.helper,v=a.labelCol,d=a.wrapperCol,m=a.controlId,y=a.validationState,h=a.bsSize,k=a.bsClass,g=a.className,E=a.feedback,_=a.errorLevel,S=_===void 0?O:_,F=f(a,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var T=d?l:t;var N={controlId:m,bsSize:h,bsClass:k,className:g};if(p){if(c(p)){if(v){p=r.createElement(l,v,p)}}else{p=v?r.createElement(l,Object.assign({},v,{componentClass:ControlLabel}),p):r.createElement(ControlLabel,null,p)}}var $=s?InputGroup:t;if(s){if(s.pre&&!c(s.pre)){s.pre=r.createElement(InputGroup.Addon,null,s.pre)}if(s.end&&!c(s.end)){s.end=r.createElement(InputGroup.Addon,null,s.end)}}else{s={}}if(b&&!c(b)){b=r.createElement(HelpBlock,null,b)}var B=x(u);switch(B){case C:case j:case"checkbox":case"radio":F.__TYPE__="checked";break;case w:case P:if(u.props.type!=="radio"){F.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":F.__TYPE__=B;break;default:break}return r.createElement(e,Object.assign({},F,{passUtil:"$fieldutil",render:function e(t){var n,c;var l=t.$fieldutil,v=f(t,["$fieldutil"]);var m=l.$invalid,h=l.$dirty,k=l.$touched,g=l.$getFirstError;var O=a.valuePropName,_=O===void 0?"value":O,C=a.changePropName,j=C===void 0?"onChange":C,w=a.focusPropName,P=w===void 0?"onFocus":w,x=a.blurPropName,B=x===void 0?"onBlur":x;var I=v[j];var Y=v[P];var z=v[B];var G=v[_];var A;switch(F.__TYPE__){case"checked":case"checkbox":case"radio":var L=a.checked,R=L===void 0?true:L,U=a.unchecked,q=U===void 0?false:U;A={checked:G===R,onChange:function e(r){var t=r&&r.target?r.target.checked:r;I(t?R:q,r)}};break;default:A=(n={},i(n,j,I),i(n,_,G),i(n,"name",F.name),n);break}Object.assign(A,(c={},i(c,P,Y),i(c,B,z),c));var D,H;switch(S){case 0:D=m&&h&k;break;case 1:D=m&&h;break;case 2:D=m;break;default:D=false;break}if(E){if(typeof E==="boolean"){H=r.createElement(FormControl.Feedback,null)}else{H=r.createElement(FormControl.Feedback,null,E)}}return r.createElement(FormGroup,Object.assign({},N,{validationState:D?"error":y}),p,r.createElement(T,d,r.createElement($,null,s.pre,o(u,A),s.end),H,D?r.createElement(HelpBlock,null,g()):b))}}))}}]);return a}(a);var T=function(e){g(a,e);function a(){s(this,a);return y(this,h(a).apply(this,arguments))}b(a,[{key:"render",value:function e(){var a=this.props,c=a.children,l=a.name,i=a.onChange,u=a.value,f=a.onFocus,s=a.onBlur;var p=function e(r){i(r.target.value,r)};return r.createElement(t,null,n.map(c,function(e){var r=e.props.value;return o(e,{checked:u===r,onChange:p,onFocus:f,onBlur:s,name:l})}))}}]);return a}(a);export{E as CheckboxGroup,F as FormGroup,T as RadioGroup,_ as setErrorLevel};
