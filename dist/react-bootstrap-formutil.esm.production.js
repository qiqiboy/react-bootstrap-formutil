import{EasyField as e}from"react-formutil";export*from"react-formutil";import r,{Fragment as t,Children as n,cloneElement as o,Component as a,isValidElement as i}from"react";import{FormControl,Col as c,ControlLabel,InputGroup,HelpBlock,FormGroup,Checkbox,Radio,ToggleButtonGroup}from"react-bootstrap";function l(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function u(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function f(e,r){if(e==null)return{};var t=u(e,r);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function s(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,r,t){if(r)p(e.prototype,r);if(t)p(e,t);return e}function m(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){m=function e(r){return typeof r}}else{m=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return m(e)}function v(e){if(typeof Symbol==="function"&&m(Symbol.iterator)==="symbol"){v=function e(r){return m(r)}}else{v=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":m(r)}}return v(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,r){if(r&&(v(r)==="object"||typeof r==="function")){return r}return d(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return h(e)}function g(e,r){g=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return g(e,r)}function k(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)g(e,r)}var E=function(e){k(a,e);function a(){s(this,a);return y(this,h(a).apply(this,arguments))}b(a,[{key:"render",value:function e(){var a=this.props,i=a.children,c=a.name,l=a.onChange,u=a.value,f=a.onFocus,s=a.onBlur;var p=function e(r){var t=r.target,n=t.checked,o=t.value;var a=u||[];l(n?a.concat(o):a.filter(function(e){return e!==o}))};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return o(e,{checked:!!u&&u.indexOf(r)>-1,onChange:p,onFocus:f,onBlur:s,name:c})}))}}]);return a}(a);function O(e){var r=_(e,"string");return typeof r==="symbol"?r:String(r)}function _(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var P=1;var S=function e(r){P=r};var j=FormControl.name!=="FormControl";var w=j?Checkbox:"Checkbox";var C=j?Radio:"Radio";var N=j?E:"CheckboxGroup";var x=j?ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function F(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(j){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var T=function(a){k(u,a);function u(){s(this,u);return y(this,h(u).apply(this,arguments))}b(u,[{key:"render",value:function a(){var u=this.props;var s=u.children,p=u.addons,b=u.label,m=u.helper,v=u.labelCol,d=u.wrapperCol,y=u.controlId,h=u.validationState,g=u.bsSize,k=u.bsClass,E=u.className,_=u.feedback,S=u.errorLevel,j=S===void 0?P:S,T=f(u,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var $=d?c:t;var B={controlId:y,bsSize:g,bsClass:k,className:E};if(b){if(i(b)){if(v){b=r.createElement(c,v,b)}}else{b=v?r.createElement(c,Object.assign({},v,{componentClass:ControlLabel}),b):r.createElement(ControlLabel,null,b)}}var I=p?InputGroup:t;if(p){if(p.pre&&!i(p.pre)){p.pre=r.createElement(InputGroup.Addon,null,p.pre)}if(p.end&&!i(p.end)){p.end=r.createElement(InputGroup.Addon,null,p.end)}}else{p={}}if(m&&!i(m)){m=r.createElement(HelpBlock,null,m)}var Y=F(s);switch(Y){case w:case C:case"checkbox":case"radio":T.__TYPE__="checked";break;case N:case x:if(s.props.type!=="radio"){T.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":T.__TYPE__=Y;break;default:break}return r.createElement(e,Object.assign({},T,{passUtil:"$fieldutil",render:function e(t){var a,i;var c=t.$fieldutil,v=t.valuePropName,y=v===void 0?"value":v,g=t.changePropName,k=g===void 0?"onChange":g,E=t.focusPropName,P=E===void 0?"onFocus":E,S=t.blurPropName,w=S===void 0?"onBlur":S,C=t[y],N=t[P],x=t[w],F=t[y],Y=f(t,["$fieldutil","valuePropName","changePropName","focusPropName","blurPropName",y,P,w,y].map(O));var z=c.$invalid,G=c.$dirty,A=c.$touched,L=c.$getFirstError;var R;switch(T.__TYPE__){case"checked":case"checkbox":case"radio":var U=u.checked,q=U===void 0?true:U,D=u.unchecked,H=D===void 0?false:D;R={checked:F===q,onChange:function e(r){var t=r&&r.target?r.target.checked:r;C(t?q:H,r)}};break;default:R=(a={},l(a,k,C),l(a,y,F),l(a,"name",T.name),a);break}Object.assign(R,(i={},l(i,P,N),l(i,w,x),i));var J,K;switch(j){case 0:J=z&&G&A;break;case 1:J=z&&G;break;case 2:J=z;break;default:J=false;break}if(_){if(typeof _==="boolean"){K=r.createElement(FormControl.Feedback,null)}else{K=r.createElement(FormControl.Feedback,null,_)}}return r.createElement(FormGroup,Object.assign({},B,{validationState:J?"error":h}),b,r.createElement($,d,r.createElement(I,null,p.pre,o(n.only(s),R),p.end),K,J?r.createElement(HelpBlock,null,L()):m))}}))}}]);return u}(a);var $=function(e){k(a,e);function a(){s(this,a);return y(this,h(a).apply(this,arguments))}b(a,[{key:"render",value:function e(){var a=this.props,i=a.children,c=a.name,l=a.onChange,u=a.value,f=a.onFocus,s=a.onBlur;var p=function e(r){l(r.target.value,r)};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return o(e,{checked:u===r,onChange:p,onFocus:f,onBlur:s,name:c})}))}}]);return a}(a);export{E as CheckboxGroup,T as FormGroup,$ as RadioGroup,S as setErrorLevel};
