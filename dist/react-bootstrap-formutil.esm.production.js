import{EasyField as e}from"react-formutil";export*from"react-formutil";import r from"@babel/runtime/helpers/esm/defineProperty";import t from"@babel/runtime/helpers/esm/toPropertyKey";import a from"@babel/runtime/helpers/esm/objectSpread2";import i from"@babel/runtime/helpers/esm/objectWithoutProperties";import n from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";import l from"@babel/runtime/helpers/esm/possibleConstructorReturn";import s from"@babel/runtime/helpers/esm/getPrototypeOf";import c from"@babel/runtime/helpers/esm/inherits";import u,{Children as p,cloneElement as m,Component as d,isValidElement as f,Fragment as v}from"react";import{isValidElementType as h}from"react-is";import{Form as b,FormControl as y,FormLabel as k,InputGroup as g,FormText as C,FormGroup as E,FormCheck as _,ToggleButton as P,ToggleButtonGroup as N,Col as x,Row as T}from"react-bootstrap";var F=function(e){c(r,e);function r(){n(this,r);return l(this,s(r).apply(this,arguments))}o(r,[{key:"render",value:function e(){var r=this.props,t=r.children,a=r.name,i=r.onChange,n=r.value,o=r.onFocus,l=r.onBlur,s=r.isValid,c=r.isInvalid;var u=function e(r){var t=r.target,a=t.checked,o=t.value;var l=n||[];i(a?l.concat(o):l.filter(function(e){return e!==o}))};return p.map(t,function(e){var r=e.props.value;return m(e,{isValid:s,isInvalid:c,checked:!!n&&n.indexOf(r)>-1,onChange:u,onFocus:o,onBlur:l,name:a})})}}]);return r}(d);var S;try{var B=document.createElement("style");B.type="text/css";document.getElementsByTagName("head")[0].appendChild(B);S=document.styleSheets[document.styleSheets.length-1]}catch(e){}function V(e,r){if(S){if(S.insertRule){S.insertRule("".concat(e," { ").concat(r," }"),0)}else if(S.addRule){S.addRule(e,r,0)}}}var j=1;var $=function e(r){j=r};var w=b.displayName!=="Form";var O=w?y:"FormControl";var I=w?_:"FormCheck";var R=w?F:"CheckboxGroup";var Y=w?P:"ToggleButton";var G=w?N:"ToggleButtonGroup";var z=y.Feedback;function A(e){if(e){var r=e.type;if(typeof r!=="string"&&h(r)){if(r.formutilType){return r.formutilType}if(w){return r}return r.displayName||r.name}return e.props.type||e.type}}var L=function(d){c(h,d);function h(){n(this,h);return l(this,s(h).apply(this,arguments))}o(h,[{key:"render",value:function n(){var o=this;var l=this.props;var s=l.children,c=l.addons,d=l.label,h=l.helper,b=l.labelCol,y=l.wrapperCol,_=l.validationState,P=l.className,N=l.feedback,F=l.extra,S=l.errorLevel,B=S===void 0?j:S,V=i(l,["children","addons","label","helper","labelCol","wrapperCol","validationState","className","feedback","extra","errorLevel"]);var $=typeof s==="function"?s:p.only(s);var w=y?x:v;var L={className:P};if(d){if(f(d)){if(b){d=m(d,a({column:true},b))}}else{d=u.createElement(k,Object.assign({column:!!b},b),d)}}if(b||y){L.as=T}var U=c?g:v;var K=c?{size:c.size}:undefined;if(c){if(c.pre){c.pre=u.createElement(g.Prepend,null,f(c.pre)?c.pre:u.createElement(g.Text,null,c.pre))}if(c.end){c.end=u.createElement(g.Append,null,f(c.end)?c.end:u.createElement(g.Text,null,c.end))}}else{c={}}if(h&&!f(h)){h=u.createElement(C,{className:"text-muted"},h)}var W=A($);if(W===O){if($.props.as==="select"&&$.props.multiple){W="multipleSelect"}}switch(W){case I:case Y:case"checkbox":case"radio":V.__TYPE__="checked";break;case"multipleSelect":V.__TYPE__="array";break;case R:case G:if($.props.type!=="radio"){V.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":V.__TYPE__=W;break}return u.createElement(e,Object.assign({},V,{passUtil:"$fieldutil",render:function e(a){var n,s;var p=l.valuePropName,f=p===void 0?"value":p,v=l.changePropName,b=v===void 0?"onChange":v,k=l.focusPropName,g=k===void 0?"onFocus":k,C=l.blurPropName,_=C===void 0?"onBlur":C;var P=a.$fieldutil,x=a[b],T=a[g],S=a[_],j=a[f],O=i(a,["$fieldutil",b,g,_,f].map(t));var I=P.$invalid,R=P.$dirty,Y=P.$touched,G=P.$focused,A=P.$getFirstError;var q;switch(V.__TYPE__){case"checked":case"checkbox":case"radio":var D=l.checked,H=D===void 0?true:D,J=l.unchecked,M=J===void 0?false:J;q={checked:j===H,onChange:function e(r){var t=r&&r.target?r.target.checked:r;x(t?H:M,r)}};break;default:q=(n={onCompositionEnd:function e(r){o.isComposition=false;delete o.compositionValue;x(r)},onCompositionStart:function e(){return o.isComposition=true}},r(n,b,W==="multipleSelect"?function(e){x([].slice.call(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value}),e)}:function(e){if(o.isComposition){o.compositionValue=e.target[f];o.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++){t[a-1]=arguments[a]}x.apply(void 0,[e].concat(t))}}),r(n,f,"compositionValue"in o?o.compositionValue:j),r(n,"name",V.name),n);break}Object.assign(q,(s={},r(s,g,T),r(s,_,S),s));var Q;switch(B){case 0:Q=I&&R&&Y;break;case 1:Q=I&&R;break;case 2:Q=I;break;default:Q=false;break}if(Q){q.isInvalid=true}if(N&&!I){q.isValid=true}L.className=[L.className,Q&&"has-error",I?"is-invalid":"is-valid",R?"is-dirty":"is-pristine",Y?"is-touched":"is-untouched",G?"is-focused":"is-unfocused"].filter(Boolean).join(" ");return u.createElement(E,Object.assign({},O,L),d,u.createElement(w,y,u.createElement(U,K,c.pre,typeof $==="function"?$(q):m($,q),c.end),Q?u.createElement(z,{type:"invalid"},A()):h),F)}}))}}]);return h}(d);V(".valid-feedback:empty,.invalid-feedback:empty","display: none !important");V(".has-error .invalid-feedback","display: block");var U=function(e){c(r,e);function r(){n(this,r);return l(this,s(r).apply(this,arguments))}o(r,[{key:"render",value:function e(){var r=this.props,t=r.children,a=r.name,i=r.onChange,n=r.value,o=r.onFocus,l=r.onBlur,s=r.isValid,c=r.isInvalid;var u=function e(r){i(r.target.value,r)};return p.map(t,function(e){var r=e.props.value;return m(e,{isValid:s,isInvalid:c,checked:n===r,onChange:u,onFocus:o,onBlur:l,name:a})})}}]);return r}(d);export{F as CheckboxGroup,L as FormGroup,U as RadioGroup,F as SwitchGroup,$ as setErrorLevel};
