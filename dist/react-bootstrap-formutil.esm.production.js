import{EasyField as e}from"react-formutil";export*from"react-formutil";import r,{Fragment as t,Children as n,cloneElement as a,Component as o,isValidElement as i}from"react";import{FormControl,Col as c,ControlLabel,InputGroup,HelpBlock,FormGroup,Checkbox,Radio,ToggleButtonGroup}from"react-bootstrap";function l(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function u(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,r,t){if(r)u(e.prototype,r);if(t)u(e,t);return e}function s(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function p(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)d(e,r)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return v(e)}function d(e,r){d=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return d(e,r)}function b(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var a,o;for(o=0;o<n.length;o++){a=n[o];if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}function m(e,r){if(e==null)return{};var t=b(e,r);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return h(e)}function k(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function g(e){var r=k(e,"string");return typeof r==="symbol"?r:String(r)}var E=function(e){p(o,e);function o(){l(this,o);return y(this,v(o).apply(this,arguments))}f(o,[{key:"render",value:function e(){var o=this.props,i=o.children,c=o.name,l=o.onChange,u=o.value,f=o.onFocus,s=o.onBlur;var p=function e(r){var t=r.target,n=t.checked,a=t.value;var o=u||[];l(n?o.concat(a):o.filter(function(e){return e!==a}))};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return a(e,{checked:!!u&&u.indexOf(r)>-1,onChange:p,onFocus:f,onBlur:s,name:c})}))}}]);return o}(o);var O=1;var _=function e(r){O=r};var j=FormControl.name!=="FormControl";var w=j?Checkbox:"Checkbox";var C=j?Radio:"Radio";var P=j?E:"CheckboxGroup";var S=j?ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function x(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(j){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var F=function(o){p(u,o);function u(){l(this,u);return y(this,v(u).apply(this,arguments))}f(u,[{key:"render",value:function o(){var l=this.props;var u=l.children,f=l.addons,p=l.label,v=l.helper,d=l.labelCol,b=l.wrapperCol,h=l.controlId,y=l.validationState,k=l.bsSize,E=l.bsClass,_=l.className,j=l.feedback,F=l.errorLevel,T=F===void 0?O:F,N=m(l,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var $=n.only(u);var B=b?c:t;var I={controlId:h,bsSize:k,bsClass:E,className:_};if(p){if(i(p)){if(d){p=r.createElement(c,d,p)}}else{p=d?r.createElement(c,Object.assign({},d,{componentClass:ControlLabel}),p):r.createElement(ControlLabel,null,p)}}var Y=f?InputGroup:t;if(f){if(f.pre&&!i(f.pre)){f.pre=r.createElement(InputGroup.Addon,null,f.pre)}if(f.end&&!i(f.end)){f.end=r.createElement(InputGroup.Addon,null,f.end)}}else{f={}}if(v&&!i(v)){v=r.createElement(HelpBlock,null,v)}var z=x($);switch(z){case w:case C:case"checkbox":case"radio":N.__TYPE__="checked";break;case P:case S:if($.props.type!=="radio"){N.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":N.__TYPE__=z;break;default:break}return r.createElement(e,Object.assign({},N,{passUtil:"$fieldutil",render:function e(t){var n,o;var i=l.valuePropName,c=i===void 0?"value":i,u=l.changePropName,d=u===void 0?"onChange":u,h=l.focusPropName,k=h===void 0?"onFocus":h,E=l.blurPropName,O=E===void 0?"onBlur":E;var _=t.$fieldutil,w=t[d],C=t[k],P=t[O],S=t[c],x=m(t,["$fieldutil",d,k,O,c].map(g));var F=_.$invalid,z=_.$dirty,G=_.$touched,A=_.$getFirstError;var L;switch(N.__TYPE__){case"checked":case"checkbox":case"radio":var R=l.checked,U=R===void 0?true:R,q=l.unchecked,D=q===void 0?false:q;L={checked:S===U,onChange:function e(r){var t=r&&r.target?r.target.checked:r;w(t?U:D,r)}};break;default:L=(n={},s(n,d,w),s(n,c,S),s(n,"name",N.name),n);break}Object.assign(L,(o={},s(o,k,C),s(o,O,P),o));var H,J;switch(T){case 0:H=F&&z&&G;break;case 1:H=F&&z;break;case 2:H=F;break;default:H=false;break}if(j){if(typeof j==="boolean"){J=r.createElement(FormControl.Feedback,null)}else{J=r.createElement(FormControl.Feedback,null,j)}}return r.createElement(FormGroup,Object.assign({},x,I,{validationState:H?"error":y}),p,r.createElement(B,b,r.createElement(Y,null,f.pre,a($,L),f.end),J,H?r.createElement(HelpBlock,null,A()):v))}}))}}]);return u}(o);var T=function(e){p(o,e);function o(){l(this,o);return y(this,v(o).apply(this,arguments))}f(o,[{key:"render",value:function e(){var o=this.props,i=o.children,c=o.name,l=o.onChange,u=o.value,f=o.onFocus,s=o.onBlur;var p=function e(r){l(r.target.value,r)};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return a(e,{checked:u===r,onChange:p,onFocus:f,onBlur:s,name:c})}))}}]);return o}(o);export{E as CheckboxGroup,F as FormGroup,T as RadioGroup,_ as setErrorLevel};
