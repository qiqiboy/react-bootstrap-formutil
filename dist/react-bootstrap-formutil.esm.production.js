import{EasyField as e}from"react-formutil";export*from"react-formutil";import r,{Fragment as t,Children as o,cloneElement as n,Component as a,isValidElement as i}from"react";import{FormControl,Col as c,ControlLabel,InputGroup,HelpBlock,FormGroup,Checkbox,Radio,ToggleButtonGroup}from"react-bootstrap";function _classCallCheck(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}function _createClass(e,r,t){if(r)_defineProperties(e.prototype,r);if(t)_defineProperties(e,t);return e}function _defineProperty(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function _inherits(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)_setPrototypeOf(e,r)}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function _setPrototypeOf(e,r){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,r){e.__proto__=r;return e};return _setPrototypeOf(e,r)}function _objectWithoutPropertiesLoose(e,r){if(e==null)return{};var t={};var o=Object.keys(e);var n,a;for(a=0;a<o.length;a++){n=o[a];if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function _objectWithoutProperties(e,r){if(e==null)return{};var t=_objectWithoutPropertiesLoose(e,r);var o,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++){o=a[n];if(r.indexOf(o)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,o))continue;t[o]=e[o]}}return t}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _possibleConstructorReturn(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return _assertThisInitialized(e)}function _toPrimitive(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var o=t.call(e,r||"default");if(typeof o!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return typeof r==="symbol"?r:String(r)}var u=function(e){_inherits(CheckboxGroup,e);function CheckboxGroup(){_classCallCheck(this,CheckboxGroup);return _possibleConstructorReturn(this,_getPrototypeOf(CheckboxGroup).apply(this,arguments))}_createClass(CheckboxGroup,[{key:"render",value:function render(){var e=this.props,a=e.children,i=e.name,c=e.onChange,u=e.value,l=e.onFocus,s=e.onBlur;var p=function childOnChange(e){var r=e.target,t=r.checked,o=r.value;var n=u||[];c(t?n.concat(o):n.filter(function(e){return e!==o}))};return r.createElement(t,null,o.map(a,function(e){var r=e.props.value;return n(e,{checked:!!u&&u.indexOf(r)>-1,onChange:p,onFocus:l,onBlur:s,name:i})}))}}]);return CheckboxGroup}(a);var l=1;var s=function setErrorLevel(e){l=e};var p=FormControl.name!=="FormControl";var f=p?Checkbox:"Checkbox";var d=p?Radio:"Radio";var b=p?u:"CheckboxGroup";var h=p?ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function getChildComponent(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(p){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var v=function(a){_inherits(_FormGroup,a);function _FormGroup(){_classCallCheck(this,_FormGroup);return _possibleConstructorReturn(this,_getPrototypeOf(_FormGroup).apply(this,arguments))}_createClass(_FormGroup,[{key:"render",value:function render(){var a=this.props;var u=a.children,s=a.addons,p=a.label,v=a.helper,_=a.labelCol,m=a.wrapperCol,y=a.controlId,P=a.validationState,C=a.bsSize,g=a.bsClass,k=a.className,O=a.feedback,E=a.errorLevel,j=E===void 0?l:E,G=_objectWithoutProperties(a,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var w=o.only(u);var x=m?c:t;var F={controlId:y,bsSize:C,bsClass:g,className:k};if(p){if(i(p)){if(_){p=r.createElement(c,_,p)}}else{p=_?r.createElement(c,Object.assign({},_,{componentClass:ControlLabel}),p):r.createElement(ControlLabel,null,p)}}var R=s?InputGroup:t;if(s){if(s.pre&&!i(s.pre)){s.pre=r.createElement(InputGroup.Addon,null,s.pre)}if(s.end&&!i(s.end)){s.end=r.createElement(InputGroup.Addon,null,s.end)}}else{s={}}if(v&&!i(v)){v=r.createElement(HelpBlock,null,v)}var S=getChildComponent(w);switch(S){case f:case d:case"checkbox":case"radio":G.__TYPE__="checked";break;case b:case h:if(w.props.type!=="radio"){G.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":G.__TYPE__=S;break;default:break}return r.createElement(e,Object.assign({},G,{passUtil:"$fieldutil",render:function render(e){var t,o;var i=a.valuePropName,c=i===void 0?"value":i,u=a.changePropName,l=u===void 0?"onChange":u,f=a.focusPropName,d=f===void 0?"onFocus":f,b=a.blurPropName,h=b===void 0?"onBlur":b;var _=e.$fieldutil,y=e[l],C=e[d],g=e[h],k=e[c],E=_objectWithoutProperties(e,["$fieldutil",l,d,h,c].map(_toPropertyKey));var S=_.$invalid,T=_.$dirty,N=_.$touched,$=_.$getFirstError;var B;switch(G.__TYPE__){case"checked":case"checkbox":case"radio":var I=a.checked,z=I===void 0?true:I,L=a.unchecked,W=L===void 0?false:L;B={checked:k===z,onChange:function onChange(e){var r=e&&e.target?e.target.checked:e;y(r?z:W,e)}};break;default:B=(t={},_defineProperty(t,l,y),_defineProperty(t,c,k),_defineProperty(t,"name",G.name),t);break}Object.assign(B,(o={},_defineProperty(o,d,C),_defineProperty(o,h,g),o));var Y,A;switch(j){case 0:Y=S&&T&&N;break;case 1:Y=S&&T;break;case 2:Y=S;break;default:Y=false;break}if(O){if(typeof O==="boolean"){A=r.createElement(FormControl.Feedback,null)}else{A=r.createElement(FormControl.Feedback,null,O)}}return r.createElement(FormGroup,Object.assign({},E,F,{validationState:Y?"error":P}),p,r.createElement(x,m,r.createElement(R,null,s.pre,n(w,B),s.end),A,Y?r.createElement(HelpBlock,null,$()):v))}}))}}]);return _FormGroup}(a);var _=function(e){_inherits(RadioGroup,e);function RadioGroup(){_classCallCheck(this,RadioGroup);return _possibleConstructorReturn(this,_getPrototypeOf(RadioGroup).apply(this,arguments))}_createClass(RadioGroup,[{key:"render",value:function render(){var e=this.props,a=e.children,i=e.name,c=e.onChange,u=e.value,l=e.onFocus,s=e.onBlur;var p=function childOnChange(e){c(e.target.value,e)};return r.createElement(t,null,o.map(a,function(e){var r=e.props.value;return n(e,{checked:u===r,onChange:p,onFocus:l,onBlur:s,name:i})}))}}]);return RadioGroup}(a);export{u as CheckboxGroup,v as FormGroup,_ as RadioGroup,s as setErrorLevel};
