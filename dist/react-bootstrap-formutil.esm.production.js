import{EasyField as e}from"react-formutil";export*from"react-formutil";import r,{Fragment as t,Children as n,cloneElement as o,Component as a,isValidElement as i}from"react";import{isValidElementType as c}from"react-is";import{FormControl,Col as l,ControlLabel,InputGroup,HelpBlock,FormGroup,Checkbox,Radio,ToggleButtonGroup}from"react-bootstrap";function u(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function s(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,r,t){if(r)s(e.prototype,r);if(t)s(e,t);return e}function p(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function v(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)m(e,r)}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return d(e)}function m(e,r){m=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return m(e,r)}function b(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function h(e,r){if(e==null)return{};var t=b(e,r);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,r){if(r&&(typeof r==="object"||typeof r==="function")){return r}return y(e)}function k(e,r){if(typeof e!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==undefined){var n=t.call(e,r||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function E(e){var r=k(e,"string");return typeof r==="symbol"?r:String(r)}var O=function(e){v(a,e);function a(){u(this,a);return g(this,d(a).apply(this,arguments))}f(a,[{key:"render",value:function e(){var a=this.props,i=a.children,c=a.name,l=a.onChange,u=a.value,s=a.onFocus,f=a.onBlur;var p=function e(r){var t=r.target,n=t.checked,o=t.value;var a=u||[];l(n?a.concat(o):a.filter(function(e){return e!==o}))};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return o(e,{checked:!!u&&u.indexOf(r)>-1,onChange:p,onFocus:s,onBlur:f,name:c})}))}}]);return a}(a);var _=1;var C=function e(r){_=r};var j=FormControl.name!=="FormControl";var w=j?Checkbox:"Checkbox";var P=j?Radio:"Radio";var S=j?O:"CheckboxGroup";var x=j?ToggleButtonGroup:"Uncontrolled(ToggleButtonGroup)";function F(e){if(e){var r=e.type;if(typeof r!=="string"&&c(r)){if(r.formutilType){return r.formutilType}if(j){return r}return r.displayName||r.name}return e.props.type||e.type}}var T=function(a){v(c,a);function c(){u(this,c);return g(this,d(c).apply(this,arguments))}f(c,[{key:"render",value:function a(){var c=this;var u=this.props;var s=u.children,f=u.addons,v=u.label,d=u.helper,m=u.labelCol,b=u.wrapperCol,y=u.controlId,g=u.validationState,k=u.bsSize,O=u.bsClass,C=u.className,j=u.feedback,T=u.errorLevel,N=T===void 0?_:T,$=h(u,["children","addons","label","helper","labelCol","wrapperCol","controlId","validationState","bsSize","bsClass","className","feedback","errorLevel"]);var B=n.only(s);var I=b?l:t;var V={controlId:y,bsSize:k,bsClass:O,className:C};if(v){if(i(v)){if(m){v=r.createElement(l,m,v)}}else{v=m?r.createElement(l,Object.assign({},m,{componentClass:ControlLabel}),v):r.createElement(ControlLabel,null,v)}}var Y=f?InputGroup:t;if(f){if(f.pre&&!i(f.pre)){f.pre=r.createElement(InputGroup.Addon,null,f.pre)}if(f.end&&!i(f.end)){f.end=r.createElement(InputGroup.Addon,null,f.end)}}else{f={}}if(d&&!i(d)){d=r.createElement(HelpBlock,null,d)}var z=F(B);switch(z){case w:case P:case"checkbox":case"radio":$.__TYPE__="checked";break;case S:case x:if(B.props.type!=="radio"){$.__TYPE__="array"}break;case"checked":case"array":case"object":case"number":case"empty":$.__TYPE__=z;break}return r.createElement(e,Object.assign({},$,{passUtil:"$fieldutil",render:function e(t){var n,a;var i=u.valuePropName,l=i===void 0?"value":i,s=u.changePropName,m=s===void 0?"onChange":s,y=u.focusPropName,k=y===void 0?"onFocus":y,O=u.blurPropName,_=O===void 0?"onBlur":O;var C=t.$fieldutil,w=t[m],P=t[k],S=t[_],x=t[l],F=h(t,["$fieldutil",m,k,_,l].map(E));var T=C.$invalid,z=C.$dirty,A=C.$touched,G=C.$getFirstError;var U;switch($.__TYPE__){case"checked":case"checkbox":case"radio":var L=u.checked,R=L===void 0?true:L,q=u.unchecked,D=q===void 0?false:q;U={checked:x===R,onChange:function e(r){var t=r&&r.target?r.target.checked:r;w(t?R:D,r)}};break;default:U=(n={onCompositionEnd:function e(r){c.isComposition=false;delete c.compositionValue;w(r)},onCompositionStart:function e(){return c.isComposition=true}},p(n,m,function(e){if(c.isComposition){c.compositionValue=e.target[l];c.forceUpdate()}else{for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++){t[n-1]=arguments[n]}w.apply(void 0,[e].concat(t))}}),p(n,l,"compositionValue"in c?c.compositionValue:x),p(n,"name",$.name),n);break}Object.assign(U,(a={},p(a,k,P),p(a,_,S),a));var H,J;switch(N){case 0:H=T&&z&&A;break;case 1:H=T&&z;break;case 2:H=T;break;default:H=false;break}if(j){if(typeof j==="boolean"){J=r.createElement(FormControl.Feedback,null)}else{J=r.createElement(FormControl.Feedback,null,j)}}return r.createElement(FormGroup,Object.assign({},F,V,{validationState:H?"error":g}),v,r.createElement(I,b,r.createElement(Y,null,f.pre,o(B,U),f.end),J,H?r.createElement(HelpBlock,null,G()):d))}}))}}]);return c}(a);var N=function(e){v(a,e);function a(){u(this,a);return g(this,d(a).apply(this,arguments))}f(a,[{key:"render",value:function e(){var a=this.props,i=a.children,c=a.name,l=a.onChange,u=a.value,s=a.onFocus,f=a.onBlur;var p=function e(r){l(r.target.value,r)};return r.createElement(t,null,n.map(i,function(e){var r=e.props.value;return o(e,{checked:u===r,onChange:p,onFocus:s,onBlur:f,name:c})}))}}]);return a}(a);export{O as CheckboxGroup,T as FormGroup,N as RadioGroup,C as setErrorLevel};
